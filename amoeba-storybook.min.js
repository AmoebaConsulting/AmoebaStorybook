/*! amoeba-storybook - v0.1.1 - 2013-02-07
* Copyright (c) 2013 ; Licensed  */
(function(){var e;(e=window.AmoebaSB)==null&&(window.AmoebaSB={}),jQuery(function(e){return AmoebaSB.eventHelper=new AmoebaSB.EventHelper})}).call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};AmoebaSB.CogDemo=function(){function n(e,n,r){var i;this.size=n,this.numSegments=r,this.stop=t(this.stop,this),this.start=t(this.start,this),this.graphicsPaper=new AmoebaSB.GraphicsPaper(e,{fill:"transparent",stroke:"transparent"}),this.animations=[],i=new AmoebaSB.Cog(this.size,this.numSegments,this.graphicsPaper),this.pathMap={cog:i.path(!0),circleCog:i.path(!1),circle4Points:AmoebaSB.Graphics.circleWithFourPoints(0,0,this.size/2),rect4Points:AmoebaSB.Graphics.rectWithFourPoints(0,0,200,300)}}return n.prototype.start=function(){var t,n,r,i,s,o,u=this;this.stop(),t=["#384F0E","#8BA400","#A6CC2F"],_.each([0,1,2],function(n){return u.animations.push(new e(t[n],n,u.size,u.graphicsPaper,u.pathMap))}),s=this.animations,o=[];for(r=0,i=s.length;r<i;r++)n=s[r],o.push(n.animate());return o},n.prototype.stop=function(){var e,t,n,r;if(this.animations!=null){r=this.animations;for(t=0,n=r.length;t<n;t++)e=r[t],e.remove()}return this.animations.length=0},n}(),e=function(){function e(e,n,r,i,s){this.fillColor=e,this.index=n,this.cogSize=r,this.pathMap=s,this.changeToPathFive=t(this.changeToPathFive,this),this.changeToPathFour=t(this.changeToPathFour,this),this.changeToPathThree=t(this.changeToPathThree,this),this.changeToPathTwo=t(this.changeToPathTwo,this),this.rotate=t(this.rotate,this),this.pathSwitch=!0,this.removed=!1,this.mainPath=i.paper.path(this.pathOne()).attr({fill:this.fillColor,opacity:0,transform:"t"+i.width()+",0"})}return e.prototype.remove=function(){var e=this;return this.removed=!0,this.mainPath.animate({opacity:0},400,"<>",function(){return e.mainPath.remove()})},e.prototype.animate=function(){var e=this;return setTimeout(function(){return e._animate()},100*this.index)},e.prototype._animate=function(){var e=this;return this._stop(),this.mainPath.animate({opacity:1,transform:"t0,0"},600,"<>",function(){return e.rotate()})},e.prototype._stop=function(){if(!this.removed)return this.mainPath.stop()},e.prototype.rotate=function(){var e,t,n=this;return t="r0",e="r360",this.index%2===0&&(t="r360",e="r0"),this.mainPath.animate({transform:t},0,"",function(){return n.mainPath.animate({transform:e},6e3,"<>",function(){return n.changeToPathTwo()})})},e.prototype.changeToPathTwo=function(){var e=this;return this.mainPath.animate({path:this.pathTwo()},800,"<>",function(){return e.changeToPathThree()})},e.prototype.changeToPathThree=function(){var e=this;return this.mainPath.animate({path:this.pathThree()},0,"",function(){return e.changeToPathFour()})},e.prototype.changeToPathFour=function(){var e=this;return this.mainPath.animate({path:this.pathFour()},800,"<>",function(){return e.changeToPathFive()})},e.prototype.changeToPathFive=function(){var e=this;return setTimeout(function(){var t,n;t=e.mainPath.getBBox();if(t!=null)return n=700-t.y2,e.mainPath.animate({transform:"t0,"+n},800,"bounce",function(){return console.log("done")})},500)},e.prototype.pathOne=function(){var e,t;return e=this.pathMap.cog,e=AmoebaSB.Graphics.normalizePath(e),t=0,this.index%2!==0&&(t=200),e=AmoebaSB.Graphics.translatePath(e,this.index*(this.cogSize-80),t),e},e.prototype.pathTwo=function(){var e;return e=this.pathMap.circleCog,e=AmoebaSB.Graphics.normalizePath(e),e=AmoebaSB.Graphics.scalePath(e,.5,.5),e=AmoebaSB.Graphics.translatePath(e,100+this.index*220,120),e},e.prototype.pathThree=function(){var e;return e=this.pathMap.circle4Points,e=AmoebaSB.Graphics.normalizePath(e),e=AmoebaSB.Graphics.scalePath(e,.5,.5),e=AmoebaSB.Graphics.translatePath(e,100+this.index*220,120),e},e.prototype.pathFour=function(){var e;return e=this.pathMap.rect4Points,e=AmoebaSB.Graphics.normalizePath(e),e=AmoebaSB.Graphics.scalePath(e,.5,.5+.3*(3-this.index)),e=AmoebaSB.Graphics.translatePath(e,500+this.index*120,220),e},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};AmoebaSB.EventHelper=function(){function t(){this._handleKeyEvent=e(this._handleKeyEvent,this),this._setupKeyHandler=e(this._setupKeyHandler,this),this.triggerEvent=e(this.triggerEvent,this),this._setupKeyHandler(),this.nextKeyEventName="next:keyEvent",this.prevKeyEventName="prev:keyEvent",this.resizeEventName="resize:windowEvent"}return t.prototype.triggerEvent=function(e,t,n){var r;return r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,n),e.dispatchEvent(r)},t.prototype._setupKeyHandler=function(){var e=this;return document.addEventListener("keydown",function(t){return e._handleKeyEvent(t)}),document.addEventListener("keyup",function(t){return e._handleKeyEvent(t)}),document.addEventListener("touchstart",function(t){var n,r;if(t.touches.length===1){r=t.touches[0].clientX,n=window.innerWidth*.3;if(r<n)return e.triggerEvent(document,e.prevKeyEventName),t.preventDefault();if(r>window.innerWidth-n)return e.triggerEvent(document,e.nextKeyEventName),t.preventDefault()}}),window.addEventListener("resize",function(t){if(!e.sentReizeEvent)return e.sentResizeEvent=!0,setTimeout(function(){return e.triggerEvent(document,e.resizeEventName),e.sentResizeEvent=!1},250)})},t.prototype._handleKeyEvent=function(e){var t,n,r,i,s,o,u;o=9,s=32,n=37,u=38,r=39,t=40,i=!1,e.type==="keyup"&&(i=!0);switch(e.keyCode){case o:case t:case r:case s:e.preventDefault();if(i)return this.triggerEvent(document,this.nextKeyEventName);break;case n:case u:e.preventDefault();if(i)return this.triggerEvent(document,this.prevKeyEventName)}},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};AmoebaSB.GraphicsPaper=function(){function t(t,n){this.divHolder=t,this._fadePoint=e(this._fadePoint,this),this.clearPoints=e(this.clearPoints,this),this.clearAll=e(this.clearAll,this),this.pulsatePoints=e(this.pulsatePoints,this),n==null&&(n={fill:"90-#aaf-#004",stroke:"#f99"}),this.paper=Raphael(this.divHolder),this.paper.rect(0,0,this.width(),this.height()).attr(n),this.points=[]}return t.prototype.width=function(){return this.paper.canvas.clientWidth?this.paper.canvas.clientWidth:this.paper.width},t.prototype.height=function(){return this.paper.canvas.clientHeight?this.paper.canvas.clientHeight:this.paper.height},t.prototype.addPoints=function(e,t,n){var r=this;return n==null&&(n="#f00"),_.each(e,function(e){var i;return i=r.paper.circle(e.x,e.y,t),i.attr({fill:n,stroke:"none"}),r.points.push(i)})},t.prototype.pulsatePoints=function(){var e=this;return _.each(this.points,function(t){return e._fadePoint(!0,t)})},t.prototype.clearAll=function(){return this.paper.clear()},t.prototype.clearPoints=function(){var e=this;return _.each(this.points,function(e){return e.remove()})},t.prototype._fadePoint=function(e,t){var n,r,i=this;return r=Raphael.animation({transform:"s2",opacity:1},600,"<",function(){return i._fadePoint(!e,t)}),n=Raphael.animation({transform:"s1",opacity:.1},600,">",function(){return i._fadePoint(!e,t)}),t.stop(),e?t.animate(r):t.animate(n)},t}(),AmoebaSB.Point=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.toString=function(){return"("+this.x+", "+this.y+")"},e.prototype.distance=function(e){var t,n;return t=e.x-this.x,t*=t,n=e.y-this.y,n*=n,Math.sqrt(t+n)},e}(),AmoebaSB.Pair=function(){function e(e,t){this.left=e,this.right=t}return e.prototype.toString=function(){return"("+this.left+", "+this.right+")"},e}(),AmoebaSB.Rect=function(){function e(e,t,n,r){this.x=e,this.y=t,this.w=n,this.h=r}return e.prototype.toString=function(){return"(x:"+this.x+", y:"+this.y+", w:"+this.w+", h:"+this.h+")"},e}(),AmoebaSB.Graphics=function(){function e(){}return e.toDegrees=function(e){return e*(180/Math.PI)},e.toRadians=function(e){return e*(Math.PI/180)},e.pointForAngle=function(e,t,n){var r,i;return r=Math.cos(AmoebaSB.Graphics.toRadians(e)),i=Math.sin(AmoebaSB.Graphics.toRadians(e)),new AmoebaSB.Point(n.x+r*t,n.y+i*t)},e.normalizePath=function(e){var t,n,r;return t=Raphael.pathBBox(e),n=new Raphael.matrix,n.translate(-t.x,-t.y),r=n.toTransformString(),e=Raphael.transformPath(e,r),e},e.scalePath=function(e,t,n){var r,i;return r=new Raphael.matrix,r.scale(t,n),i=r.toTransformString(),e=Raphael.transformPath(e,i),e},e.translatePath=function(e,t,n){var r,i;return r=new Raphael.matrix,r.translate(t,n),i=r.toTransformString(),e=Raphael.transformPath(e,i),e},e.rotatePath=function(e,t){var n,r,i;return n=Raphael.pathBBox(e),r=new Raphael.matrix,r.rotate(t,n.x+n.width/2,n.y+n.height/2),i=r.toTransformString(),e=Raphael.transformPath(e,i),e},e.circleWithFourPoints=function(e,t,n){var r,i,s=this;return r=new AmoebaSB.Point(e,t),i=void 0,_.each([0,90,180,270,360],function(o){var u;return u=s.pointForAngle(o,n,r),i!=null?i+="A"+n+","+n+",0,0,1,"+u.x+","+u.y:i="M"+(e+n)+", "+t}),i!=null&&(i+="z",i=this.rotatePath(i,-135)),i},e.rectWithFourPoints=function(e,t,n,r){var i;return i="M"+e+", "+t,i+="l"+n+", 0",i+="l0, "+r,i+="l"+ -n+", 0",i+="l0, "+ -r,i},e.trianglePath=function(e,t,n,r,i,s){var o;return o="M"+e+","+t,o+="L"+n+","+r,o+="L"+i+","+s,o},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};AmoebaSB.NavigationControls=function(){function t(t){this._setupNextPrevButtons=e(this._setupNextPrevButtons,this),this._setupRadioButtons=e(this._setupRadioButtons,this);var n=this;this.cssID="navigationControls",this.el=$("#"+this.cssID),this._setupRadioButtons(t),this._setupNextPrevButtons(),document.addEventListener("slideTransitions:in",function(e){var t;return t=Number(e.detail),$("input:radio[name=presentationRadioGroup]:nth("+t+")").attr("checked",!0)})}return t.prototype._setupRadioButtons=function(e){var t,n,r,i=this;return t=$("<div/>").css({position:"absolute",width:"100%",bottom:"0px",left:"50%"}).appendTo(this.el),_.each(function(){r=[];for(var t=0;0<=e?t<e:t>e;0<=e?t++:t--)r.push(t);return r}.apply(this),function(e,n){var r;r=$("<input/>").attr({type:"radio",name:"presentationRadioGroup",value:e}).appendTo(t);if(e===0)return r.attr({checked:""})}),$("input[name=presentationRadioGroup]:radio").change(function(){var e;return e=$(this).val(),AmoebaSB.eventHelper.triggerEvent(document,"navigateToIndexEventName",e)})},t.prototype._setupNextPrevButtons=function(e){var t,n=this;return t=$("<a/>").attr({id:"nextButton"}).appendTo(this.el),t.click(function(e){return AmoebaSB.eventHelper.triggerEvent(document,AmoebaSB.eventHelper.nextKeyEventName)}),t=$("<a/>").attr({id:"prevButton"}).appendTo(this.el),t.click(function(e){return AmoebaSB.eventHelper.triggerEvent(document,AmoebaSB.eventHelper.prevKeyEventName)})},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};AmoebaSB.SlideLayout=function(){function t(t){this._adjustStage=e(this._adjustStage,this),this._setupStage=e(this._setupStage,this),this._computeWindowScale=e(this._computeWindowScale,this),this.setupSlide=e(this.setupSlide,this),this.normal=e(this.normal,this),this.horizOffscreen=e(this.horizOffscreen,this),this.vertOffscreen=e(this.vertOffscreen,this),this.center=e(this.center,this);var n=this;this.$stageHolder=$("#stageHolder"),this.slideInset=20,this.stageWidth=960,this.stageHeight=720,this.slideWidth=this.stageWidth-this.slideInset,this.slideHeight=this.stageHeight-this.slideInset,document.addEventListener(AmoebaSB.eventHelper.resizeEventName,function(e){return n._adjustStage()}),this._setupStage(t),this._adjustStage()}return t.prototype.center=function(e,t,n){var r;return r={left:(this.slideWidth-e)/2,top:(this.slideHeight-t)/2,x:0,y:0},n!=null&&(r=_.extend(r,n)),r},t.prototype.vertOffscreen=function(e,t){var n;return e==null&&(e=!0),n={y:e?-window.innerHeight:window.innerHeight},t!=null&&(n=_.extend(n,t)),n},t.prototype.horizOffscreen=function(e,t){var n;return e==null&&(e=!0),t==null&&(t=void 0),n={x:e?-window.innerWidth:window.innerWidth},t!=null&&(n=_.extend(n,t)),n},t.prototype.normal=function(e){var t;return e==null&&(e=1),t={y:0,x:0,rotate:0,rotateY:0,skewX:0,skewY:0,rotateX:0,scale:1,opacity:e,transformOrigin:"50% 50%"},t},t.prototype.setupSlide=function(e){return e.css({position:"absolute",opacity:0,width:this.slideWidth,height:this.slideHeight})},t.prototype._computeWindowScale=function(){var e,t,n;return e=window.innerHeight/this.stageHeight,n=window.innerWidth/this.stageWidth,e>n?t=n:t=e,t>1&&(t=1),t<0&&(t=0),t},t.prototype._setupStage=function(e){return e.css({top:0,left:0,position:"absolute",height:this.slideHeight,width:this.slideWidth,x:"-50%",y:"-50%",opacity:1,transformOrigin:"50% 50%"})},t.prototype._adjustStage=function(){var e=this;return this.internalScaleMethod==null&&(this.$stageHolder.css({position:"absolute",top:"50%",left:"50%",transformOrigin:"top left",height:"100%",width:"100%"}),this.internalScaleMethod=_.throttle(function(){var t;return t=e._computeWindowScale(),e.$stageHolder.transition({scale:t},100)},500)),this.internalScaleMethod()},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};AmoebaSB.SlideTransitions=function(){function n(t){this.slides=t,this._rotateTransitionSpec=e(this._rotateTransitionSpec,this),this._zoomTransitionSpec=e(this._zoomTransitionSpec,this),this._warpTransitionSpec=e(this._warpTransitionSpec,this),this._fadeTransitionSpec=e(this._fadeTransitionSpec,this),this._dropTransitionSpec=e(this._dropTransitionSpec,this),this._slideTransitionSpec=e(this._slideTransitionSpec,this),this._transitionSpec=e(this._transitionSpec,this),this._sendEvents=e(this._sendEvents,this),this._slideAtIndex=e(this._slideAtIndex,this),this._nextStepIndex=e(this._nextStepIndex,this),this._validStepIndex=e(this._validStepIndex,this),this.goto=e(this.goto,this),this.prevIndex=e(this.prevIndex,this),this.nextIndex=e(this.nextIndex,this),this.duration=1e3}var t;return n.prototype.nextIndex=function(){return this._nextStepIndex(!0)},n.prototype.prevIndex=function(){return this._nextStepIndex(!1)},n.prototype.goto=function(e){var t,n,r;e=this._validStepIndex(e),this.activeStepIndex!=null&&(n=e<this.activeStepIndex);if(e!==this.activeStepIndex)return this.activeStepIndex!=null&&(t=this._slideAtIndex(this.activeStepIndex)),this.activeStepIndex=e,r=this._slideAtIndex(this.activeStepIndex),r!=null&&t!=null?n?this._transitionSpec("previous").run(t,r,!0):this._transitionSpec(r.transition).run(t,r,!0):r.el.css(AmoebaSB.layout.normal()),this._sendEvents(t,r),e%2===0?$("#presentationBackColor").transition({backgroundColor:"rgba(255,2,2,0.4)"}):$("#presentationBackColor").transition({backgroundColor:"rgba(0,0,0,0)"})},n.prototype._validStepIndex=function(e){return e<0?e=0:e>=this.slides.length&&(e=this.slides.length-1),e},n.prototype._nextStepIndex=function(e){var t;return t=this.activeStepIndex,t!==-1&&(e?t+=1:t-=1),this._validStepIndex(t)},n.prototype._slideAtIndex=function(e){return e=this._validStepIndex(e),this.slides[e]},n.prototype._sendEvents=function(e,t){e!=null&&(e.slideOut(),AmoebaSB.eventHelper.triggerEvent(e.el.get(0),"slideTransitions:out",this.slides.indexOf(e)));if(t!=null)return t.slideIn(),AmoebaSB.eventHelper.triggerEvent(t.el.get(0),"slideTransitions:in",this.slides.indexOf(t))},n.prototype._transitionSpec=function(e){var t;switch(e){case"zoom":t=this._zoomTransitionSpec();break;case"next":t=this._slideTransitionSpec(!1);break;case"previous":t=this._slideTransitionSpec(!0);break;case"down":t=this._dropTransitionSpec(!1);break;case"up":t=this._dropTransitionSpec(!0);break;case"fade":t=this._fadeTransitionSpec();break;case"warp":t=this._warpTransitionSpec();break;case"rotate":t=this._rotateTransitionSpec();break;default:console.log("not found: "+e)}return t},n.prototype._slideTransitionSpec=function(e){var n;return e==null&&(e=!1),n=new t(AmoebaSB.layout.horizOffscreen(e)),n.addActive(AmoebaSB.layout.horizOffscreen(!e,{opacity:0})),n.finalize({duration:this.duration}),n},n.prototype._dropTransitionSpec=function(e){var n;return e==null&&(e=!0),n=new t(AmoebaSB.layout.vertOffscreen(e)),n.addActive(AmoebaSB.layout.vertOffscreen(!e,{opacity:0})),n.finalize({duration:this.duration}),n},n.prototype._fadeTransitionSpec=function(){var e;return e=new t({opacity:0}),e.addActive({opacity:0}),e.finalize({duration:this.duration}),e},n.prototype._warpTransitionSpec=function(){var e,n;return n=window.innerWidth,e=new t({scale:.4,x:-n}),e.addActive({opacity:.8,scale:.4}),e.addActive({opacity:0,skewX:80,x:n}),e.addNext({opacity:1,x:0,delay:this.duration/2}),e.finalize({duration:this.duration}),e},n.prototype._zoomTransitionSpec=function(){var e;return e=new t({opacity:0,scale:0,rotate:60}),e.addActive({opacity:.5,scale:1.5,easing:"out",duration:this.duration*.2}),e.addActive({opacity:0,scale:0,easing:"ease",duration:this.duration*.8}),e.finalize({delay:300,duration:this.duration}),e},n.prototype._rotateTransitionSpec=function(){var e;return e=new t({opacity:0,rotate:-180}),e.addActive({opacity:0,rotate:180}),e.setTransformOrigin("50% 100%"),e.finalize({duration:this.duration}),e},t=function(){function t(t){this.nextSlideState=t,this.finalize=e(this.finalize,this),this.setTransformOrigin=e(this.setTransformOrigin,this),this.run=e(this.run,this),this._nextArray=[],this._activeArray=[]}return t.prototype.run=function(e,t,n){var r=this;return e!=null&&t!=null?(t.el.css($.extend(AmoebaSB.layout.normal(0),this.nextSlideState)),this.transformOrigin!=null&&(e.el.css({transformOrigin:this.transformOrigin}),t.el.css({transformOrigin:this.transformOrigin})),_.each(this._activeArray,function(t,r){return n?e.el.transition(t):e.el.css(t)}),_.each(this._nextArray,function(e,r){return n?t.el.transition(e):t.el.css(e)})):console.log("SlideTransition run: bad parameter")},t.prototype.addNext=function(e){return this._nextArray.push(e)},t.prototype.addActive=function(e){return this._activeArray.push(e)},t.prototype.setTransformOrigin=function(e){return this.transformOrigin=e},t.prototype.finalize=function(e){var t;return t=AmoebaSB.layout.normal(),e!=null&&(t=$.extend(t,e)),this._nextArray.push(t)},t}(),n}.call(this)}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};AmoebaSB.Cog=function(){function n(e,n,r){this.size=e,this.numSegments=n,this.graphicsPaper=r,this._createCogSegments=t(this._createCogSegments,this),this._pairsAroundCircle=t(this._pairsAroundCircle,this),this._pointsAroundCircle=t(this._pointsAroundCircle,this),this.showPoints=t(this.showPoints,this)}return n.prototype.path=function(e){var t,n,r=this;return n=this._createCogSegments(this.size,e,this.numSegments),t=void 0,_.each(n,function(e){return t==null&&(t="M"+e.bottomLeft.x+","+e.bottomLeft.y),t+=e.path()}),t+="z",t},n.prototype.showPoints=function(){var e,t=this;return e=this._createCogSegments(this.size,!0,this.numSegments),_.each(e,function(e){return e.debugPoints(t.graphicsPaper)})},n.prototype._pointsAroundCircle=function(e,t,n,r){var i,s,o,u,a,f,l=this;return r==null&&(r=0),i=new AmoebaSB.Point(e/2,e/2),o=(e-t*2)/2,s=360/n,u=[],_.each(function(){f=[];for(var e=0;0<=n?e<=n:e>=n;0<=n?e++:e--)f.push(e);return f}.apply(this),function(e){var t,n;return t=e*s,n=s*.15,r===-1?t-=n:r===1&&(t+=n),t>=360?t-=360:t<0&&(t=360+t),u.push(AmoebaSB.Graphics.pointForAngle(t,o,i))}),u},n.prototype._pairsAroundCircle=function(e,t,n,r){var i,s,o,u,a,f,l,c,h=this;return r==null&&(r=!1),u=[],r?(i=this._pointsAroundCircle(e,t,n,-1),a=this._pointsAroundCircle(e,t,n,-1),_.each(function(){c=[];for(var e=0,t=i.length-1;0<=t?e<t:e>t;0<=t?e++:e--)c.push(e);return c}.apply(this),function(e){return u.push(new AmoebaSB.Pair(i[e],a[e+1]))})):(s=this._pointsAroundCircle(e,t,n),o=void 0,_.each(s,function(e){return o!=null&&u.push(new AmoebaSB.Pair(o,e)),o=e})),u},n.prototype._createCogSegments=function(t,n,r){var i,s,o,u,a,f,l,c=this;return u=[],a=0,o=this._pairsAroundCircle(t,0,r,!1),n&&(a=o[0].left.distance(o[0].right)*.55),i=this._pairsAroundCircle(t,a,r,!1),o.length!==i.length||o.length!==r?console.log("inner and outer points not right?"):(s=!1,_.each(function(){l=[];for(var e=0;0<=r?e<r:e>r;0<=r?e++:e--)l.push(e);return l}.apply(this),function(n){var r,f,l;return l=o[n],r=i[n],f=new e(s,t,a,l.left,l.right,r.left,r.right),u.push(f),s=!s})),u},n}(),e=function(){function e(e,t,n,r,i,s,o){this.isTooth=e,this.size=t,this.toothHeight=n,this.topLeft=r,this.topRight=i,this.bottomLeft=s,this.bottomRight=o,this.outerRadius=this.size/2,this.innerRadius=(this.size-this.toothHeight*2)/2}return e.prototype.toString=function(){return"("+this.topLeft+", "+this.topRight+", "+this.bottomLeft+", "+this.bottomRight+")"},e.prototype.debugPoints=function(e){return this.isTooth?(e.addPoints([this.topLeft],2,"black"),e.addPoints([this.topRight],2,"orange"),e.addPoints([this.bottomLeft],2,"black"),e.addPoints([this.bottomRight],2,"orange")):(e.addPoints([this.topLeft],2,"red"),e.addPoints([this.topRight],2,"yellow"),e.addPoints([this.bottomLeft],2,"red"),e.addPoints([this.bottomRight],2,"yellow"))},e.prototype.path=function(){var e,t;return t="",this.isTooth?(t+="L"+this.topLeft.x+","+this.topLeft.y,t+="A"+this.outerRadius+","+this.outerRadius+",0,0,1,"+this.topRight.x+","+this.topRight.y,t+="L"+this.bottomRight.x+","+this.bottomRight.y):(e=1,this.toothHeight>0&&(e=0),t+="A"+this.outerRadius+","+this.outerRadius+",0,0,"+e+","+this.bottomRight.x+","+this.bottomRight.y),t},e}()}.call(this),function(){}.call(this);